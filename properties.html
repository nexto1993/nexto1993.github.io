<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Properties - C# OOP</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            line-height: 1.6;
        }
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 15px;
        }
        h2 {
            color: #34495e;
            border-left: 4px solid #3498db;
            padding-left: 15px;
            margin-top: 30px;
        }
        h3 {
            color: #2c3e50;
            margin-top: 25px;
        }
        .code-block {
            background-color: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            border: 1px solid #3c3c3c;
            position: relative;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        .code-block::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 30px;
            background: linear-gradient(90deg, #ff5f56, #ffbd2e, #27ca3f);
            border-radius: 8px 8px 0 0;
        }
        .code-block::after {
            content: "‚óè‚óè‚óè";
            position: absolute;
            top: 8px;
            left: 12px;
            color: #1e1e1e;
            font-size: 8px;
            letter-spacing: 2px;
        }
        .code-content {
            margin-top: 30px;
            white-space: pre-wrap;
        }
        .keyword {
            color: #569cd6;
            font-weight: 500;
        }
        .string {
            color: #ce9178;
        }
        .comment {
            color: #6a9955;
            font-style: italic;
        }
        .type {
            color: #4ec9b0;
        }
        .concept-box {
            background-color: #e8f4fd;
            border: 1px solid #bee3f8;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .concept-title {
            color: #2b6cb0;
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 10px;
        }
        .highlight {
            background-color: #fff3cd;
            padding: 15px;
            border-left: 4px solid #ffc107;
            margin: 15px 0;
            border-radius: 4px;
        }
        .navigation {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #ecf0f1;
        }
        .nav-link {
            color: #3498db;
            text-decoration: none;
            font-weight: bold;
            padding: 10px 20px;
            border: 2px solid #3498db;
            border-radius: 5px;
            transition: all 0.3s;
        }
        .nav-link:hover {
            background-color: #3498db;
            color: white;
        }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .comparison-table th,
        .comparison-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        .comparison-table th {
            background-color: #f8f9fa;
            font-weight: bold;
            color: #2c3e50;
        }
        .comparison-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        .property-signature {
            background-color: #f1f3f4;
            padding: 10px;
            border-radius: 4px;
            border-left: 3px solid #9c27b0;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            margin: 10px 0;
        }
        .syntax-box {
            background-color: #e8f5e8;
            border: 1px solid #4caf50;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        .syntax-title {
            color: #2e7d32;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .access-level {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 10px;
            margin: 10px 0;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
        }
        .warning-box {
            background-color: #fff3e0;
            border: 1px solid #ffcc02;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #e65100;
        }
        .success-box {
            background-color: #e8f5e8;
            border: 1px solid #c8e6c9;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #2e7d32;
        }
        .property-demo {
            background-color: #e3f2fd;
            border: 1px solid #90caf9;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        .property-title {
            color: #1565c0;
            font-weight: bold;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Properties in C#</h1>
        <p style="text-align: center; color: #7f8c8d; margin-bottom: 30px;">
            Understanding encapsulation with getters and setters using properties
        </p>

        <h2>üìã Code Analysis</h2>

        <h3>Dollar Class (Dollar.cs)</h3>
        <div class="code-block">
            <div class="code-content"><span class="keyword">namespace</span> <span class="type">Properties</span>
{
    <span class="keyword">public class</span> <span class="type">Dollar</span>
    {
        <span class="comment">// Private backing field</span>
        <span class="keyword">private</span> <span class="type">decimal</span> _value;
        
        <span class="comment">// Property with custom getter and private setter</span>
        <span class="keyword">public</span> <span class="type">decimal</span> Amount 
        {
            <span class="keyword">get</span>
            {
                <span class="comment">// Custom logic in getter</span>
                <span class="keyword">if</span> (_value == <span class="string">0</span>)
                   <span class="keyword">return</span> <span class="string">0</span>;
                <span class="keyword">return</span> _value;
            }
            <span class="comment">// Private setter - only accessible within this class</span>
            <span class="keyword">private set</span>
            {
                _value = value;
            }
        }
        
        <span class="comment">// Public method to modify the private property</span>
        <span class="keyword">public void</span> setAmount(<span class="type">decimal</span> value)
        {
            Amount = value;  <span class="comment">// Uses the private setter</span>
        }
    }
}</div>
        </div>

        <h3>Program Class (Program.cs)</h3>
        <div class="code-block">
            <div class="code-content"><span class="keyword">namespace</span> <span class="type">Properties</span>
{
    <span class="keyword">internal class</span> <span class="type">Program</span>
    {
        <span class="keyword">static void</span> Main(<span class="type">string</span>[] args)
        {
            <span class="type">Console</span>.WriteLine(<span class="string">"Hello, World!"</span>);
        }
    }
}</div>
        </div>

        <h2>üîë Key Concepts Explained</h2>

        <div class="concept-box">
            <div class="concept-title">1. What are Properties?</div>
            <p><strong>Definition:</strong> Properties provide a flexible mechanism to read, write, or compute values while maintaining encapsulation.</p>
            <div class="property-signature">public Type PropertyName { get; set; }</div>
            <ul>
                <li><strong>Encapsulation:</strong> Control access to private fields</li>
                <li><strong>Validation:</strong> Add logic to validate data before setting</li>
                <li><strong>Computed values:</strong> Calculate values on-the-fly</li>
                <li><strong>Abstraction:</strong> Hide implementation details from consumers</li>
                <li><strong>Interface compatibility:</strong> Properties can be part of interfaces</li>
            </ul>
        </div>

        <div class="concept-box">
            <div class="concept-title">2. Property Syntax Variations</div>
            <div class="syntax-box">
                <div class="syntax-title">Different Property Patterns:</div>
                <div class="property-signature">
                    // Auto-implemented property<br>
                    public string Name { get; set; }<br><br>
                    // Read-only auto property<br>
                    public int Id { get; }<br><br>
                    // Property with backing field<br>
                    private string _name;<br>
                    public string Name { get => _name; set => _name = value; }<br><br>
                    // Computed property<br>
                    public string FullName => $"{FirstName} {LastName}";
                </div>
            </div>
        </div>

        <div class="concept-box">
            <div class="concept-title">3. Access Modifiers</div>
            <p><strong>Flexibility:</strong> Properties support different access levels for getters and setters.</p>
            
            <div class="access-level">
                <strong>public get; private set;</strong> - Read publicly, write only within class
            </div>
            <div class="access-level">
                <strong>public get; protected set;</strong> - Read publicly, write in class/derived classes
            </div>
            <div class="access-level">
                <strong>public get; internal set;</strong> - Read publicly, write within assembly
            </div>
            <div class="access-level">
                <strong>public get; init;</strong> - Read publicly, write only during initialization
            </div>
        </div>

        <h2>üìä Properties vs Fields vs Methods</h2>
        <table class="comparison-table">
            <thead>
                <tr>
                    <th>Feature</th>
                    <th>Field</th>
                    <th>Property</th>
                    <th>Method</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Syntax</strong></td>
                    <td>obj.field</td>
                    <td>obj.Property</td>
                    <td>obj.Method()</td>
                </tr>
                <tr>
                    <td><strong>Encapsulation</strong></td>
                    <td>Direct access</td>
                    <td>Controlled access</td>
                    <td>Full control</td>
                </tr>
                <tr>
                    <td><strong>Validation</strong></td>
                    <td>No</td>
                    <td>Yes</td>
                    <td>Yes</td>
                </tr>
                <tr>
                    <td><strong>Computed Values</strong></td>
                    <td>No</td>
                    <td>Yes</td>
                    <td>Yes</td>
                </tr>
                <tr>
                    <td><strong>Interface Support</strong></td>
                    <td>No</td>
                    <td>Yes</td>
                    <td>Yes</td>
                </tr>
                <tr>
                    <td><strong>Performance</strong></td>
                    <td>Fastest</td>
                    <td>Nearly same as field</td>
                    <td>Method call overhead</td>
                </tr>
            </tbody>
        </table>

        <h2>üéØ Enhanced Dollar Class Example</h2>
        <div class="code-block">
            <div class="code-content"><span class="keyword">public class</span> <span class="type">Dollar</span>
{
    <span class="comment">// Private backing fields</span>
    <span class="keyword">private</span> <span class="type">decimal</span> _amount;
    <span class="keyword">private</span> <span class="type">string</span> _currency;
    <span class="keyword">private</span> <span class="type">DateTime</span> _lastModified;

    <span class="comment">// Auto-implemented properties</span>
    <span class="keyword">public</span> <span class="type">string</span> Id { <span class="keyword">get</span>; } = <span class="type">Guid</span>.NewGuid().ToString();
    <span class="keyword">public</span> <span class="type">DateTime</span> CreatedDate { <span class="keyword">get</span>; } = <span class="type">DateTime</span>.Now;

    <span class="comment">// Property with validation</span>
    <span class="keyword">public</span> <span class="type">decimal</span> Amount
    {
        <span class="keyword">get</span> => _amount;
        <span class="keyword">set</span>
        {
            <span class="keyword">if</span> (value < <span class="string">0</span>)
                <span class="keyword">throw new</span> <span class="type">ArgumentException</span>(<span class="string">"Amount cannot be negative"</span>);
            
            _amount = value;
            _lastModified = <span class="type">DateTime</span>.Now;
        }
    }

    <span class="comment">// Property with different access levels</span>
    <span class="keyword">public</span> <span class="type">string</span> Currency
    {
        <span class="keyword">get</span> => _currency ?? <span class="string">"USD"</span>;
        <span class="keyword">private set</span> => _currency = value;
    }

    <span class="comment">// Read-only computed property</span>
    <span class="keyword">public</span> <span class="type">string</span> FormattedAmount => $<span class="string">"{Amount:C} {Currency}"</span>;

    <span class="comment">// Read-only property with logic</span>
    <span class="keyword">public</span> <span class="type">bool</span> IsZero => Amount == <span class="string">0</span>;

    <span class="comment">// Property with private setter accessible via method</span>
    <span class="keyword">public</span> <span class="type">DateTime</span> LastModified
    {
        <span class="keyword">get</span> => _lastModified;
        <span class="keyword">private set</span> => _lastModified = value;
    }

    <span class="comment">// Constructor</span>
    <span class="keyword">public</span> Dollar(<span class="type">decimal</span> amount, <span class="type">string</span> currency = <span class="string">"USD"</span>)
    {
        Amount = amount;  <span class="comment">// Uses validation</span>
        Currency = currency;
        _lastModified = <span class="type">DateTime</span>.Now;
    }

    <span class="comment">// Method to change currency (controls private setter)</span>
    <span class="keyword">public void</span> ChangeCurrency(<span class="type">string</span> newCurrency)
    {
        <span class="keyword">if</span> (<span class="type">string</span>.IsNullOrWhiteSpace(newCurrency))
            <span class="keyword">throw new</span> <span class="type">ArgumentException</span>(<span class="string">"Currency cannot be empty"</span>);
        
        Currency = newCurrency.ToUpper();
        LastModified = <span class="type">DateTime</span>.Now;
    }

    <span class="comment">// Expression-bodied method</span>
    <span class="keyword">public override</span> <span class="type">string</span> ToString() => FormattedAmount;
}</div>
        </div>

        <h2>üíª Property Usage Examples</h2>
        <div class="code-block">
            <div class="code-content"><span class="comment">// Creating instances and using properties</span>
<span class="keyword">var</span> dollar = <span class="keyword">new</span> Dollar(<span class="string">100.50m</span>, <span class="string">"USD"</span>);

<span class="comment">// Reading properties</span>
<span class="type">Console</span>.WriteLine($<span class="string">"ID: {dollar.Id}"</span>);
<span class="type">Console</span>.WriteLine($<span class="string">"Amount: {dollar.Amount}"</span>);
<span class="type">Console</span>.WriteLine($<span class="string">"Currency: {dollar.Currency}"</span>);
<span class="type">Console</span>.WriteLine($<span class="string">"Formatted: {dollar.FormattedAmount}"</span>);
<span class="type">Console</span>.WriteLine($<span class="string">"Is Zero: {dollar.IsZero}"</span>);
<span class="type">Console</span>.WriteLine($<span class="string">"Created: {dollar.CreatedDate}"</span>);

<span class="comment">// Modifying properties</span>
dollar.Amount = <span class="string">250.75m</span>;  <span class="comment">// Triggers validation and updates LastModified</span>

<span class="comment">// Using methods to control private setters</span>
dollar.ChangeCurrency(<span class="string">"EUR"</span>);

<span class="comment">// This would cause a compilation error (private setter):</span>
<span class="comment">// dollar.Currency = "GBP";  // Error!</span>

<span class="comment">// This would throw an exception (validation):</span>
<span class="comment">// dollar.Amount = -50;  // ArgumentException!</span></div>
        </div>

        <h2>üÜï Modern Property Features (C# 6.0+)</h2>
        
        <div class="property-demo">
            <div class="property-title">Auto-Property Initializers</div>
            <div class="code-block">
                <div class="code-content"><span class="keyword">public class</span> <span class="type">Person</span>
{
    <span class="comment">// Initialize properties directly</span>
    <span class="keyword">public</span> <span class="type">string</span> Name { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="string">"Unknown"</span>;
    <span class="keyword">public</span> <span class="type">DateTime</span> BirthDate { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="type">DateTime</span>.Now;
    <span class="keyword">public</span> <span class="type">List</span>&lt;<span class="type">string</span>&gt; Hobbies { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="keyword">new</span> <span class="type">List</span>&lt;<span class="type">string</span>&gt;();
}</div>
            </div>
        </div>

        <div class="property-demo">
            <div class="property-title">Expression-Bodied Properties (C# 6.0/7.0)</div>
            <div class="code-block">
                <div class="code-content"><span class="keyword">public class</span> <span class="type">Rectangle</span>
{
    <span class="keyword">public</span> <span class="type">double</span> Width { <span class="keyword">get</span>; <span class="keyword">set</span>; }
    <span class="keyword">public</span> <span class="type">double</span> Height { <span class="keyword">get</span>; <span class="keyword">set</span>; }
    
    <span class="comment">// Expression-bodied get-only property</span>
    <span class="keyword">public</span> <span class="type">double</span> Area => Width * Height;
    
    <span class="comment">// Expression-bodied getter and setter (C# 7.0)</span>
    <span class="keyword">private</span> <span class="type">double</span> _perimeter;
    <span class="keyword">public</span> <span class="type">double</span> Perimeter
    {
        <span class="keyword">get</span> => _perimeter;
        <span class="keyword">set</span> => _perimeter = value > <span class="string">0</span> ? value : <span class="keyword">throw new</span> <span class="type">ArgumentException</span>();
    }
}</div>
            </div>
        </div>

        <div class="property-demo">
            <div class="property-title">Init-Only Properties (C# 9.0)</div>
            <div class="code-block">
                <div class="code-content"><span class="keyword">public class</span> <span class="type">ImmutablePerson</span>
{
    <span class="comment">// Can only be set during object initialization</span>
    <span class="keyword">public</span> <span class="type">string</span> FirstName { <span class="keyword">get</span>; <span class="keyword">init</span>; }
    <span class="keyword">public</span> <span class="type">string</span> LastName { <span class="keyword">get</span>; <span class="keyword">init</span>; }
    <span class="keyword">public</span> <span class="type">DateTime</span> BirthDate { <span class="keyword">get</span>; <span class="keyword">init</span>; }
    
    <span class="comment">// Computed property</span>
    <span class="keyword">public</span> <span class="type">string</span> FullName => $<span class="string">"{FirstName} {LastName}"</span>;
}

<span class="comment">// Usage:</span>
<span class="keyword">var</span> person = <span class="keyword">new</span> ImmutablePerson
{
    FirstName = <span class="string">"John"</span>,
    LastName = <span class="string">"Doe"</span>,
    BirthDate = <span class="keyword">new</span> DateTime(<span class="string">1990</span>, <span class="string">1</span>, <span class="string">1</span>)
};

<span class="comment">// This would cause compilation error after initialization:</span>
<span class="comment">// person.FirstName = "Jane";  // Error!</span></div>
            </div>
        </div>

        <h2>‚ö†Ô∏è Common Pitfalls and Best Practices</h2>
        <div class="warning-box">
            <h4>Property Design Guidelines:</h4>
            <ul>
                <li><strong>Side effects:</strong> Getters should not have observable side effects</li>
                <li><strong>Performance:</strong> Getters should be fast; avoid expensive operations</li>
                <li><strong>Exceptions:</strong> Getters should rarely throw exceptions (except for invalid state)</li>
                <li><strong>Order independence:</strong> Property setters should work in any order</li>
                <li><strong>Consistency:</strong> Related properties should remain consistent</li>
                <li><strong>Null handling:</strong> Consider how properties handle null values</li>
            </ul>
        </div>

        <div class="success-box">
            <h4>Property Best Practices:</h4>
            <ul>
                <li><strong>Use properties over public fields:</strong> Better encapsulation and future flexibility</li>
                <li><strong>Prefer auto-properties:</strong> Simpler code, same performance as fields</li>
                <li><strong>Validate in setters:</strong> Ensure object remains in valid state</li>
                <li><strong>Use expression-bodied properties:</strong> For simple computed values</li>
                <li><strong>Consider init-only properties:</strong> For immutable objects</li>
                <li><strong>Document complex logic:</strong> Explain non-obvious property behavior</li>
            </ul>
        </div>

        <h2>üéØ Advanced Property Patterns</h2>
        <div class="code-block">
            <div class="code-content"><span class="comment">// Property with lazy initialization</span>
<span class="keyword">public class</span> <span class="type">DataService</span>
{
    <span class="keyword">private</span> <span class="type">Lazy</span>&lt;<span class="type">List</span>&lt;<span class="type">string</span>&gt;&gt; _data = <span class="keyword">new</span>(<span class="type">LoadData</span>);
    
    <span class="keyword">public</span> <span class="type">List</span>&lt;<span class="type">string</span>&gt; Data => _data.Value;
    
    <span class="keyword">private static</span> <span class="type">List</span>&lt;<span class="type">string</span>&gt; LoadData()
    {
        <span class="comment">// Expensive operation</span>
        <span class="keyword">return new</span> <span class="type">List</span>&lt;<span class="type">string</span>&gt; { <span class="string">"data1"</span>, <span class="string">"data2"</span> };
    }
}

<span class="comment">// Property with notification (INotifyPropertyChanged)</span>
<span class="keyword">public class</span> <span class="type">ObservableModel</span> : <span class="type">INotifyPropertyChanged</span>
{
    <span class="keyword">private</span> <span class="type">string</span> _name;
    
    <span class="keyword">public</span> <span class="type">string</span> Name
    {
        <span class="keyword">get</span> => _name;
        <span class="keyword">set</span>
        {
            <span class="keyword">if</span> (_name != value)
            {
                _name = value;
                OnPropertyChanged();
            }
        }
    }
    
    <span class="keyword">public event</span> <span class="type">PropertyChangedEventHandler</span> PropertyChanged;
    
    <span class="keyword">protected virtual void</span> OnPropertyChanged([<span class="type">CallerMemberName</span>] <span class="type">string</span> propertyName = <span class="keyword">null</span>)
    {
        PropertyChanged?.Invoke(<span class="keyword">this</span>, <span class="keyword">new</span> PropertyChangedEventArgs(propertyName));
    }
}

<span class="comment">// Indexed properties (indexers)</span>
<span class="keyword">public class</span> <span class="type">Matrix</span>
{
    <span class="keyword">private</span> <span class="type">int</span>[,] _data = <span class="keyword">new</span> <span class="type">int</span>[<span class="string">3</span>, <span class="string">3</span>];
    
    <span class="comment">// Indexer property</span>
    <span class="keyword">public</span> <span class="type">int</span> <span class="keyword">this</span>[<span class="type">int</span> row, <span class="type">int</span> col]
    {
        <span class="keyword">get</span> => _data[row, col];
        <span class="keyword">set</span> => _data[row, col] = value;
    }
}</div>
        </div>

        <h2>üöÄ Practical Applications</h2>
        <p>Properties are essential for:</p>
        <ul>
            <li><strong>Data binding:</strong> WPF, WinForms, web frameworks</li>
            <li><strong>APIs and DTOs:</strong> Data transfer objects with validation</li>
            <li><strong>Configuration classes:</strong> Settings with validation and defaults</li>
            <li><strong>Domain models:</strong> Business objects with encapsulated state</li>
            <li><strong>Computed values:</strong> Derived properties from other data</li>
            <li><strong>Caching:</strong> Lazy-loaded or cached expensive calculations</li>
            <li><strong>Validation:</strong> Ensuring object state consistency</li>
        </ul>

        <div class="navigation">
            <a href="index.html" class="nav-link">‚Üê Back to Index</a>
        </div>
    </div>
</body>
</html>
